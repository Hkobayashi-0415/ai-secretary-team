# Phase 7: UI/UX設計書 - 共通UI要素設計

## 1. 設計概要

### 1.1 設計目的
統合版プラットフォームで使用する共通UI要素の詳細仕様を定義し、デザイナーAIが一貫したデザインを作成できるよう、具体的な要件・仕様・制約を明確化する。

### 1.2 適用範囲
- 全画面で使用される共通コンポーネント
- 再利用可能なUI部品
- デザインシステムの基盤要素

### 1.3 設計原則
- **一貫性**: 全要素での統一されたデザイン言語
- **再利用性**: 複数画面での効率的な利用
- **アクセシビリティ**: 多様なユーザーの利用を支援
- **保守性**: 変更・更新の容易性

## 2. ボタン要素

### 2.1 プライマリボタン
**用途**: 主要なアクション・決定・送信
**デザイン仕様**:
- **高さ**: 40px（標準）、48px（大）、32px（小）
- **背景色**: #3B82F6（プライマリ）
- **ホバー色**: #2563EB
- **アクティブ色**: #1D4ED8
- **無効色**: #9CA3AF
- **テキスト色**: #FFFFFF
- **角丸**: 8px
- **パディング**: 16px 24px（標準）、20px 32px（大）、12px 20px（小）
- **フォント**: 16px（標準）、18px（大）、14px（小）、フォントウェイト600

**状態表示**:
- **通常**: 背景色 #3B82F6、シャドウ 0 1px 3px 0 rgba(0, 0, 0, 0.1)
- **ホバー**: 背景色 #2563EB、シャドウ 0 4px 6px -1px rgba(0, 0, 0, 0.1)
- **アクティブ**: 背景色 #1D4ED8、シャドウ inset 0 2px 4px 0 rgba(0, 0, 0, 0.06)
- **無効**: 背景色 #9CA3AF、カーソル not-allowed

**アクセシビリティ**:
- キーボード操作: Enter/Spaceキーでアクティベーション
- フォーカス表示: 2px #3B82F6の境界線
- ARIA属性: role="button"、aria-disabled（無効時）

### 2.2 セカンダリボタン
**用途**: 補助的なアクション・キャンセル・戻る
**デザイン仕様**:
- **高さ**: 40px（標準）、48px（大）、32px（小）
- **背景色**: 透明
- **境界線**: 1px #D1D5DB
- **テキスト色**: #374151
- **ホバー背景**: #F9FAFB
- **ホバー境界線**: #9CA3AF
- **角丸**: 8px
- **パディング**: 16px 24px（標準）、20px 32px（大）、12px 20px（小）
- **フォント**: 16px（標準）、18px（大）、14px（小）、フォントウェイト500

**状態表示**:
- **通常**: 透明背景、境界線 #D1D5DB
- **ホバー**: 背景色 #F9FAFB、境界線 #9CA3AF
- **アクティブ**: 背景色 #F3F4F6、境界線 #6B7280
- **無効**: 背景色 #F9FAFB、境界線 #E5E7EB、テキスト色 #9CA3AF

### 2.3 テキストボタン
**用途**: 軽量なアクション・リンク・詳細表示
**デザイン仕様**:
- **高さ**: 32px（標準）、40px（大）、28px（小）
- **背景色**: 透明
- **テキスト色**: #3B82F6
- **ホバー背景**: #EFF6FF
- **角丸**: 6px
- **パディング**: 8px 16px（標準）、12px 20px（大）、6px 12px（小）
- **フォント**: 14px（標準）、16px（大）、12px（小）、フォントウェイト500

**状態表示**:
- **通常**: 透明背景、テキスト色 #3B82F6
- **ホバー**: 背景色 #EFF6FF
- **アクティブ**: 背景色 #DBEAFE
- **無効**: テキスト色 #9CA3AF

### 2.4 アイコンボタン
**用途**: ツールバー・アクションメニュー・コンパクトな操作
**デザイン仕様**:
- **サイズ**: 32x32px（標準）、40x40px（大）、24x24px（小）
- **背景色**: 透明
- **アイコン色**: #6B7280
- **ホバー背景**: #F3F4F6
- **ホバーアイコン色**: #374151
- **角丸**: 6px
- **パディング**: 4px
- **アイコンサイズ**: 16x16px（標準）、20x20px（大）、12x12px（小）

## 3. 入力要素

### 3.1 テキスト入力フィールド
**用途**: 単一行テキスト入力・検索・URL
**デザイン仕様**:
- **高さ**: 40px（標準）、48px（大）、32px（小）
- **背景色**: #FFFFFF
- **境界線**: 1px #D1D5DB
- **フォーカス境界線**: 2px #3B82F6
- **角丸**: 6px
- **パディング**: 12px 16px（標準）、16px 20px（大）、8px 12px（小）
- **フォント**: 16px（標準）、18px（大）、14px（小）、フォントウェイト400
- **プレースホルダー色**: #9CA3AF

**状態表示**:
- **通常**: 背景色 #FFFFFF、境界線 #D1D5DB
- **フォーカス**: 背景色 #FFFFFF、境界線 #3B82F6、シャドウ 0 0 0 3px rgba(59, 130, 246, 0.1)
- **エラー**: 背景色 #FEF2F2、境界線 #EF4444
- **無効**: 背景色 #F9FAFB、境界線 #E5E7EB、テキスト色 #9CA3AF

**アクセシビリティ**:
- ラベル: 適切なlabel要素・aria-label
- エラー表示: aria-invalid、aria-describedby
- 必須表示: aria-required、視覚的インジケーター

### 3.2 テキストエリア
**用途**: 複数行テキスト入力・説明・コメント
**デザイン仕様**:
- **最小高さ**: 80px
- **背景色**: #FFFFFF
- **境界線**: 1px #D1D5DB
- **フォーカス境界線**: 2px #3B82F6
- **角丸**: 6px
- **パディング**: 12px 16px
- **フォント**: 16px、フォントウェイト400
- **行間**: 1.5
- **リサイズ**: 垂直方向のみ

**状態表示**:
- **通常**: 背景色 #FFFFFF、境界線 #D1D5DB
- **フォーカス**: 背景色 #FFFFFF、境界線 #3B82F6、シャドウ 0 0 0 3px rgba(59, 130, 246, 0.1)
- **エラー**: 背景色 #FEF2F2、境界線 #EF4444

### 3.3 セレクトボックス
**用途**: 選択肢からの選択・カテゴリ・設定
**デザイン仕様**:
- **高さ**: 40px（標準）、48px（大）、32px（小）
- **背景色**: #FFFFFF
- **境界線**: 1px #D1D5DB
- **フォーカス境界線**: 2px #3B82F6
- **角丸**: 6px
- **パディング**: 12px 16px（標準）、16px 20px（大）、8px 12px（小）
- **フォント**: 16px（標準）、18px（大）、14px（小）、フォントウェイト400
- **ドロップダウン矢印**: 16x16px、色 #6B7280

**ドロップダウンメニュー**:
- **背景色**: #FFFFFF
- **境界線**: 1px #E5E7EB
- **シャドウ**: 0 10px 15px -3px rgba(0, 0, 0, 0.1)
- **角丸**: 8px
- **最大高さ**: 200px
- **スクロール**: 必要時のみ表示

**オプション項目**:
- **高さ**: 40px
- **パディング**: 12px 16px
- **ホバー背景**: #F3F4F6
- **選択背景**: #EFF6FF
- **選択テキスト色**: #1E40AF

### 3.4 チェックボックス
**用途**: 真偽値選択・複数選択・同意
**デザイン仕様**:
- **サイズ**: 16x16px（標準）、20x20px（大）、14x14px（小）
- **背景色**: #FFFFFF
- **境界線**: 1px #D1D5DB
- **チェックマーク色**: #FFFFFF
- **チェック背景色**: #3B82F6
- **角丸**: 4px
- **マージン**: 右側8px

**状態表示**:
- **未選択**: 背景色 #FFFFFF、境界線 #D1D5DB
- **選択**: 背景色 #3B82F6、境界線 #3B82F6
- **ホバー**: 境界線 #9CA3AF
- **フォーカス**: 境界線 #3B82F6、シャドウ 0 0 0 3px rgba(59, 130, 246, 0.1)
- **無効**: 背景色 #F9FAFB、境界線 #E5E7EB

### 3.5 ラジオボタン
**用途**: 単一選択・オプション選択・設定
**デザイン仕様**:
- **サイズ**: 16x16px（標準）、20x20px（大）、14x14px（小）
- **背景色**: #FFFFFF
- **境界線**: 1px #D1D5DB
- **選択色**: #3B82F6
- **マージン**: 右側8px

**状態表示**:
- **未選択**: 背景色 #FFFFFF、境界線 #D1D5DB
- **選択**: 背景色 #FFFFFF、境界線 #3B82F6、中央に#3B82F6の円
- **ホバー**: 境界線 #9CA3AF
- **フォーカス**: 境界線 #3B82F6、シャドウ 0 0 0 3px rgba(59, 130, 246, 0.1)
- **無効**: 背景色 #F9FAFB、境界線 #E5E7EB

## 4. カード要素

### 4.1 基本カード
**用途**: 情報表示・コンテンツグループ化・概要表示
**デザイン仕様**:
- **背景色**: #FFFFFF
- **境界線**: 1px #E5E7EB
- **角丸**: 12px
- **シャドウ**: 0 1px 3px 0 rgba(0, 0, 0, 0.1)
- **パディング**: 24px
- **マージン**: 16px

**ホバー効果**:
- シャドウ: 0 4px 6px -1px rgba(0, 0, 0, 0.1)
- 変換: translateY(-2px)
- トランジション: 0.2s ease-in-out

**アクセシビリティ**:
- セマンティックHTML: article, section等の適切な使用
- フォーカス管理: キーボードナビゲーション対応

### 4.2 情報パネル
**用途**: 重要情報・通知・ステータス表示
**デザイン仕様**:
- **背景色**: #F8FAFC
- **境界線**: 左側に4px #3B82F6
- **角丸**: 8px
- **パディング**: 20px
- **マージン**: 16px

**バリエーション**:
- **情報**: 左境界線 #3B82F6
- **成功**: 左境界線 #10B981
- **警告**: 左境界線 #F59E0B
- **エラー**: 左境界線 #EF4444

### 4.3 アクションカード
**用途**: 操作可能なカード・設定・設定
**デザイン仕様**:
- **背景色**: #FFFFFF
- **境界線**: 1px #E5E7EB
- **角丸**: 12px
- **シャドウ**: 0 1px 3px 0 rgba(0, 0, 0, 0.1)
- **パディング**: 24px
- **カーソル**: pointer

**ホバー効果**:
- シャドウ: 0 10px 15px -3px rgba(0, 0, 0, 0.1)
- 変換: translateY(-4px)
- トランジション: 0.3s ease-in-out

**アクセシビリティ**:
- キーボード操作: Enter/Spaceキーでアクティベーション
- フォーカス表示: 明確なフォーカスインジケーター

## 5. ナビゲーション要素

### 5.1 ヘッダーナビゲーション
**用途**: グローバルナビゲーション・ユーザーメニュー・通知
**デザイン仕様**:
- **高さ**: 64px（固定）
- **背景色**: #FFFFFF（ライトモード）、#1F2937（ダークモード）
- **境界線**: 下側に1px #E5E7EB
- **シャドウ**: 0 1px 3px 0 rgba(0, 0, 0, 0.1)
- **パディング**: 0 24px
- **z-index**: 1000

**ロゴ**:
- **サイズ**: 32x32px
- **マージン**: 右側24px
- **配置**: 左端

**メニュー項目**:
- **フォント**: 16px、フォントウェイト500
- **色**: #374151
- **ホバー色**: #3B82F6
- **間隔**: 24px
- **パディング**: 8px 16px

**ユーザーメニュー**:
- **位置**: 右端
- **アイコン**: 24x24px
- **ドロップダウン**: 幅200px、角丸8px

### 5.2 サイドバーナビゲーション
**用途**: メインメニュー・サブメニュー・階層ナビゲーション
**デザイン仕様**:
- **幅**: 280px（展開時）、64px（折りたたみ時）
- **背景色**: #F9FAFB（ライトモード）、#111827（ダークモード）
- **境界線**: 右側に1px #E5E7EB
- **高さ**: 100vh
- **z-index**: 900

**メニュー項目**:
- **高さ**: 48px
- **パディング**: 12px 16px
- **フォント**: 16px、フォントウェイト500
- **色**: #374151
- **ホバー背景**: #F3F4F6
- **アクティブ背景**: #EFF6FF
- **アクティブ色**: #1E40AF

**アイコン**:
- **サイズ**: 20x20px
- **色**: #6B7280
- **アクティブ色**: #3B82F6
- **マージン**: 右側12px

**折りたたみ状態**:
- **幅**: 64px
- **アイコンのみ表示**
- **ツールチップ**: ホバー時にメニュー名表示

### 5.3 ブレッドクラム
**用途**: 現在位置の表示・ナビゲーション支援
**デザイン仕様**:
- **高さ**: 40px
- **背景色**: #F9FAFB
- **境界線**: 下側に1px #E5E7EB
- **パディング**: 0 24px
- **フォント**: 14px、フォントウェイト400

**項目**:
- **色**: #6B7280
- **ホバー色**: #374151
- **アクティブ色**: #111827
- **間隔**: 8px

**区切り文字**:
- **文字**: > または /
- **色**: #9CA3AF
- **マージン**: 0 8px

**リンク**:
- **色**: #6B7280
- **ホバー色**: #374151
- **テキスト装飾**: none
- **ホバー装飾**: underline

## 6. フォーム要素

### 6.1 フォームグループ
**用途**: 関連する入力要素のグループ化・ラベル・説明
**デザイン仕様**:
- **マージン**: 下側24px
- **ラベル**: 上側、16px、フォントウェイト600、色 #374151
- **説明**: ラベル下、14px、色 #6B7280、マージン上側4px
- **エラー**: 入力フィールド下、14px、色 #EF4444、マージン上側4px

**レイアウト**:
- **ラベル**: 上側配置
- **入力フィールド**: ラベル下
- **説明・エラー**: 入力フィールド下
- **必須表示**: ラベル横に赤い*マーク

### 6.2 フォーム検証
**用途**: 入力値の検証・エラー表示・成功表示
**デザイン仕様**:
- **リアルタイム検証**: 入力中に検証実行
- **エラー表示**: 赤色テキスト、アイコン表示
- **成功表示**: 緑色テキスト、チェックマーク表示
- **警告表示**: 黄色テキスト、警告アイコン表示

**エラー状態**:
- **入力フィールド**: 赤い境界線、背景色 #FEF2F2
- **エラーメッセージ**: 色 #EF4444、フォントサイズ14px
- **アイコン**: 16x16px、色 #EF4444

**成功状態**:
- **入力フィールド**: 緑の境界線、背景色 #F0FDF4
- **成功メッセージ**: 色 #10B981、フォントサイズ14px
- **アイコン**: 16x16px、色 #10B981

### 6.3 フォーム送信
**用途**: フォームデータの送信・検証・処理
**デザイン仕様**:
- **送信ボタン**: プライマリボタン、幅100%
- **ローディング状態**: ボタン内にスピナー表示
- **無効状態**: 検証エラー時は送信ボタン無効化
- **成功表示**: 送信完了後の確認メッセージ

**処理状態**:
- **送信前**: 通常の送信ボタン
- **送信中**: ローディングスピナー、テキスト「送信中...」
- **送信完了**: 成功メッセージ、次のアクション案内
- **送信エラー**: エラーメッセージ、再試行ボタン

## 7. フィードバック要素

### 7.1 トースト通知
**用途**: 一時的な通知・成功・エラー・警告
**デザイン仕様**:
- **位置**: 画面右上
- **幅**: 400px
- **背景色**: #FFFFFF
- **境界線**: 1px #E5E7EB
- **角丸**: 8px
- **シャドウ**: 0 10px 15px -3px rgba(0, 0, 0, 0.1)
- **パディング**: 16px
- **マージン**: 16px

**種類別**:
- **成功**: 左境界線 #10B981、アイコン色 #10B981
- **エラー**: 左境界線 #EF4444、アイコン色 #EF4444
- **警告**: 左境界線 #F59E0B、アイコン色 #F59E0B
- **情報**: 左境界線 #3B82F6、アイコン色 #3B82F6

**表示制御**:
- **表示時間**: 5秒（自動消去）
- **手動消去**: 閉じるボタン・クリック
- **アニメーション**: スライドイン・フェードアウト

### 7.2 モーダル・ダイアログ
**用途**: 重要な操作・確認・詳細表示
**デザイン仕様**:
- **背景**: オーバーレイ（rgba(0, 0, 0, 0.5)）
- **位置**: 画面中央
- **幅**: 500px（標準）、700px（大）、400px（小）
- **背景色**: #FFFFFF
- **角丸**: 12px
- **シャドウ**: 0 20px 25px -5px rgba(0, 0, 0, 0.1)
- **パディング**: 24px

**ヘッダー**:
- **タイトル**: 20px、フォントウェイト600、色 #111827
- **閉じるボタン**: 右上、24x24px、色 #6B7280
- **境界線**: 下側に1px #E5E7EB

**コンテンツ**:
- **パディング**: 24px 0
- **スクロール**: 必要時のみ表示
- **最大高さ**: 70vh

**フッター**:
- **ボタン配置**: 右寄せ
- **ボタン間隔**: 12px
- **境界線**: 上側に1px #E5E7EB
- **パディング**: 24px 0 0 0

### 7.3 プログレスバー
**用途**: 処理進捗・読み込み状況・完了率
**デザイン仕様**:
- **高さ**: 8px（細）、12px（標準）、16px（太）
- **背景色**: #E5E7EB
- **進捗色**: #3B82F6
- **角丸**: 4px
- **アニメーション**: スムーズな進捗表示

**種類**:
- **線形**: 水平方向の進捗表示
- **円形**: 円形の進捗表示
- **ステップ**: 段階的な進捗表示

**状態表示**:
- **進行中**: アニメーション付き進捗表示
- **完了**: 100%表示、成功色
- **エラー**: エラー色、停止状態
- **一時停止**: 一時停止状態の表示

## 8. データ表示要素

### 8.1 テーブル
**用途**: データ一覧・比較・管理
**デザイン仕様**:
- **背景色**: #FFFFFF
- **境界線**: 1px #E5E7EB
- **角丸**: 8px
- **シャドウ**: 0 1px 3px 0 rgba(0, 0, 0, 0.1)

**ヘッダー**:
- **背景色**: #F9FAFB
- **フォント**: 14px、フォントウェイト600、色 #374151
- **パディング**: 16px
- **境界線**: 下側に1px #E5E7EB

**行**:
- **高さ**: 56px
- **パディング**: 16px
- **境界線**: 下側に1px #F3F4F6
- **ホバー背景**: #F9FAFB

**セル**:
- **パディング**: 16px
- **フォント**: 14px、色 #374151
- **垂直配置**: 中央揃え

**ページネーション**:
- **位置**: テーブル下
- **ボタン**: セカンダリボタン
- **情報**: 「1-10 of 100」形式
- **ページサイズ**: 10, 25, 50, 100選択

### 8.2 リスト
**用途**: 項目一覧・ナビゲーション・選択
**デザイン仕様**:
- **背景色**: #FFFFFF
- **境界線**: 1px #E5E7EB
- **角丸**: 8px
- **シャドウ**: 0 1px 3px 0 rgba(0, 0, 0, 0.1)

**リスト項目**:
- **高さ**: 48px（標準）、64px（大）
- **パディング**: 16px
- **境界線**: 下側に1px #F3F4F6
- **ホバー背景**: #F9FAFB

**選択状態**:
- **選択背景**: #EFF6FF
- **選択境界線**: 左側に4px #3B82F6
- **選択テキスト色**: #1E40AF

**アクション**:
- **ボタン**: 右側配置
- **アイコン**: 16x16px、色 #6B7280
- **ホバー色**: #374151

### 8.3 統計カード
**用途**: 数値・指標・メトリクスの表示
**デザイン仕様**:
- **背景色**: #FFFFFF
- **境界線**: 1px #E5E7EB
- **角丸**: 12px
- **シャドウ**: 0 1px 3px 0 rgba(0, 0, 0, 0.1)
- **パディング**: 24px

**ヘッダー**:
- **タイトル**: 14px、フォントウェイト500、色 #6B7280
- **アイコン**: 右側、20x20px、色 #9CA3AF

**数値**:
- **フォント**: 32px、フォントウェイト700、色 #111827
- **マージン**: 上側8px

**変化**:
- **増加**: 緑色 #10B981、上向き矢印
- **減少**: 赤色 #EF4444、下向き矢印
- **フォント**: 14px、フォントウェイト500

## 9. アクセシビリティ要件

### 9.1 キーボード操作
**Tab順序**:
- 論理的な順序での移動
- カスタムTab順序の設定
- フォーカストラップの適切な管理

**ショートカットキー**:
- 標準的なショートカットキーの提供
- カスタムショートカットキーの設定
- ヘルプ・ドキュメントでの説明

**フォーカス管理**:
- 明確なフォーカスインジケーター
- フォーカスの適切な移動
- フォーカスの復元

### 9.2 スクリーンリーダー対応
**セマンティックHTML**:
- 適切なHTML要素の使用
- 見出し階層の正しい設定
- リスト・テーブルの適切な構造

**ARIA属性**:
- role属性の適切な設定
- aria-label・aria-describedbyの活用
- aria-expanded・aria-selectedの管理

**ランドマーク**:
- main・navigation・sidebar等の設定
- 適切なランドマークの配置
- ナビゲーションの効率化

### 9.3 色覚対応
**コントラスト比**:
- 通常テキスト: 4.5:1以上
- 大テキスト: 3:1以上
- UI要素: 3:1以上

**色以外の情報伝達**:
- アイコン・形状での識別
- テキストでの状態説明
- 境界線・パターンでの区別

## 10. 実装ガイドライン

### 10.1 コンポーネント設計
**再利用性**:
- 汎用的なプロパティ設計
- 適切なデフォルト値の設定
- カスタマイズ可能なスタイル

**保守性**:
- 明確な責任分離
- 適切な抽象化レベル
- テスト容易性の確保

**パフォーマンス**:
- 不要な再レンダリングの防止
- メモ化の適切な使用
- 効率的なイベント処理

### 10.2 スタイリング
**Tailwind CSS活用**:
- ユーティリティクラスの活用
- カスタムクラスの最小化
- 一貫したデザイントークンの使用

**カスタムCSS**:
- CSS Modulesの活用
- 変数・ミックスインの使用
- ネストの最小化

**レスポンシブ対応**:
- 適切なブレークポイントの設定
- モバイルファーストの設計
- 柔軟なレイアウトの実装

### 10.3 テスト・品質保証
**コンポーネントテスト**:
- レンダリングテスト
- プロパティテスト
- イベントハンドリングテスト
- アクセシビリティテスト

**ビジュアルテスト**:
- Storybookでの表示確認
- 異なる状態での表示確認
- レスポンシブ対応の確認

**パフォーマンステスト**:
- レンダリング時間の測定
- メモリ使用量の確認
- アニメーションの滑らかさ確認

## 11. 結論

### 11.1 設計の総括
本共通UI要素設計書により、統合版プラットフォームのUIが以下の特性を備えた一貫性のあるデザインとして構築されます：

- **一貫性**: 全要素での統一されたデザイン言語
- **再利用性**: 効率的なコンポーネント利用
- **アクセシビリティ**: 多様なユーザーの利用を支援
- **保守性**: 変更・更新の容易性

### 11.2 実装への指針
1. **段階的実装**: 基本要素 → 複合要素 → 特殊要素
2. **品質保証**: 継続的テスト・アクセシビリティ確認・パフォーマンス監視
3. **ドキュメント化**: Storybook・コンポーネントライブラリ・使用例

### 11.3 最終的な設計目標達成
この設計により、AI秘書チームの協調作業を支える、世界最高水準のUIシステムが実現されます。
