# Phase 7: UI/UX設計書 - プロジェクト管理画面設計

## 1. 設計概要

### 1.1 設計目的
統合版プラットフォームのプロジェクト管理画面において、プロジェクトの作成・編集・監視・分析を効率的に行い、チーム全体のプロジェクト状況を包括的に把握できる直感的なインターフェースを設計する。

### 1.2 画面の役割
- **プロジェクト作成・編集**: 新規プロジェクトの作成・既存プロジェクトの詳細編集
- **プロジェクト監視**: 進行状況・リソース使用状況・リスク管理
- **チーム管理**: メンバー割り当て・権限管理・役割定義
- **分析・レポート**: プロジェクトパフォーマンス・メトリクス・傾向分析
- **ワークフロー統合**: タスク管理・AI秘書連携・承認フロー

### 1.3 対象ユーザー
- **プライマリ**: プロジェクトマネージャー・開発リーダー
- **セカンダリ**: 開発者・チームメンバー・ステークホルダー
- **管理者**: システム管理者・品質管理者

## 2. 画面構成設計

### 2.1 全体レイアウト
**画面構造**:
```
┌─────────────────────────────────────────────────────────┐
│ ヘッダーナビゲーション (64px)                          │
├─────────────────┬───────────────────────────────────────┤
│ サイドバー      │ メインコンテンツエリア                │
│ ナビゲーション  │                                      │
│ (280px)        │  ┌─────────────────────────────────┐ │
│                 │  │ ブレッドクラム (40px)           │ │
│                 │  ├─────────────────────────────────┤ │
│                 │  │ プロジェクト管理コンテンツ      │ │
│                 │  │                                 │ │
│                 │  │ ┌─────────┐ ┌─────────┐        │ │
│                 │  │ │検索・    │ │新規     │        │ │
│                 │  │ │フィルター│ │プロジェクト│      │ │
│                 │  │ └─────────┘ └─────────┘        │ │
│                 │  │                                 │ │
│                 │  │ ┌─────────────────────────────┐ │ │
│                 │  │ │ プロジェクト一覧テーブル    │ │ │
│                 │  │ └─────────────────────────────┘ │ │
│                 │  │                                 │ │
│                 │  │ ┌─────────────────────────────┐ │ │
│                 │  │ │ プロジェクト詳細パネル      │ │ │
│                 │  │ └─────────────────────────────┘ │ │
│                 │  └─────────────────────────────────┘ │
└─────────────────┴───────────────────────────────────────┘
```

**レスポンシブ対応**:
- **デスクトップ**: サイドバー展開・メインコンテンツフル幅・詳細パネル表示
- **タブレット**: サイドバー折りたたみ・メインコンテンツ適応・詳細パネル省略
- **モバイル**: サイドバーオーバーレイ・メインコンテンツ単一カラム・詳細パネルモーダル

### 2.2 ヘッダーエリア
**高さ**: 64px（固定）
**背景色**: #FFFFFF（ライトモード）、#1F2937（ダークモード）
**境界線**: 下側に1px #E5E7EB
**シャドウ**: 0 1px 3px 0 rgba(0, 0, 0, 0.1)

**構成要素**:
- **ロゴ・ブランド名**: 左端、32x32px、マージン右側24px
- **グローバルナビゲーション**: 中央、メニュー項目間隔24px
- **通知ベル**: 右端、24x24px、通知数バッジ表示
- **ユーザーメニュー**: 右端、24x24px、ドロップダウンメニュー

### 2.3 サイドバーナビゲーション
**幅**: 280px（展開時）、64px（折りたたみ時）
**背景色**: #F9FAFB（ライトモード）、#111827（ダークモード）
**境界線**: 右側に1px #E5E7EB
**高さ**: 100vh
**z-index**: 900

**メニュー構成**:
```
プロジェクト管理
├── プロジェクト一覧
├── 新規プロジェクト
├── プロジェクトテンプレート
├── アーカイブ
└── 設定
    ├── カテゴリ管理
    ├── ステータス管理
    ├── 優先度管理
    └── 通知設定
```

**メニュー項目仕様**:
- **高さ**: 48px
- **パディング**: 12px 16px
- **フォント**: 16px、フォントウェイト500
- **色**: #374151
- **ホバー背景**: #F3F4F6
- **アクティブ背景**: #EFF6FF
- **アクティブ色**: #1E40AF

### 2.4 ブレッドクラム
**高さ**: 40px
**背景色**: #F9FAFB
**境界線**: 下側に1px #E5E7EB
**パディング**: 0 24px
**フォント**: 14px、フォントウェイト400

**表示内容**:
- **現在位置**: プロジェクト管理
- **ナビゲーション**: ホーム > プロジェクト管理
- **アクション**: なし（現在位置のみ）

## 3. メインコンテンツエリア

### 3.1 検索・フィルターセクション
**レイアウト**: 横並び（レスポンシブ対応）
**マージン**: 24px
**高さ**: 80px

#### 3.1.1 検索機能
**用途**: プロジェクト名・説明・タグでの検索
**デザイン仕様**:
- **背景色**: #FFFFFF
- **境界線**: 1px #D1D5DB
- **フォーカス境界線**: 2px #3B82F6
- **角丸**: 8px
- **パディング**: 12px 16px
- **幅**: 400px（デスクトップ）、300px（タブレット）、100%（モバイル）
- **プレースホルダー**: 「プロジェクト名、説明、タグで検索...」

**検索機能**:
- **リアルタイム検索**: 入力中に検索実行
- **検索履歴**: 最近の検索クエリ表示
- **検索候補**: 入力中の自動補完
- **検索結果ハイライト**: マッチした部分の強調表示

#### 3.1.2 フィルター機能
**用途**: ステータス・優先度・カテゴリ・担当者での絞り込み
**デザイン仕様**:
- **背景色**: #FFFFFF
- **境界線**: 1px #D1D5DB
- **角丸**: 8px
- **パディング**: 8px 12px
- **幅**: 200px（デスクトップ）、150px（タブレット）、100%（モバイル）

**フィルター項目**:
- **ステータス**: 進行中・完了・一時停止・キャンセル
- **優先度**: 高・中・低
- **カテゴリ**: 開発・設計・テスト・運用・その他
- **担当者**: 全員・特定メンバー・未割り当て
- **期間**: 今週・今月・今四半期・今年・カスタム

**フィルター表示**:
- **アクティブフィルター**: チップ形式での表示
- **フィルター解除**: 個別・一括解除ボタン
- **フィルター保存**: よく使用するフィルターの保存

#### 3.1.3 新規プロジェクトボタン
**用途**: 新規プロジェクト作成の開始
**デザイン仕様**:
- **ボタンタイプ**: プライマリボタン
- **高さ**: 48px
- **幅**: 200px（デスクトップ）、150px（タブレット）、100%（モバイル）
- **アイコン**: 左側、20x20px、プラス記号
- **テキスト**: 「新規プロジェクト」
- **ホバー効果**: 背景色変化・シャドウ増加

### 3.2 プロジェクト一覧テーブルセクション
**レイアウト**: フル幅
**マージン**: 24px
**高さ**: 適応的（最小400px）

#### 3.2.1 テーブルヘッダー
**用途**: テーブルの列見出し・ソート機能
**デザイン仕様**:
- **背景色**: #F9FAFB
- **境界線**: 下側に1px #E5E7EB
- **パディング**: 16px
- **フォント**: 14px、フォントウェイト600、色 #374151

**列構成**:
- **プロジェクト名**: 幅300px、左寄せ、ソート可能
- **ステータス**: 幅120px、中央揃え、ソート可能
- **優先度**: 幅100px、中央揃え、ソート可能
- **担当者**: 幅150px、中央揃え、ソート可能
- **進捗**: 幅120px、中央揃え、ソート可能
- **期限**: 幅120px、中央揃え、ソート可能
- **作成日**: 幅120px、中央揃え、ソート可能
- **アクション**: 幅100px、中央揃え、固定

**ソート機能**:
- **ソートインジケーター**: 上向き・下向き矢印
- **ソート状態**: アクティブ・非アクティブの視覚的表示
- **マルチソート**: Shift+クリックで複数列ソート

#### 3.2.2 テーブル行
**用途**: プロジェクト情報の表示・編集・削除
**デザイン仕様**:
- **高さ**: 64px
- **背景色**: #FFFFFF
- **境界線**: 下側に1px #F3F4F6
- **ホバー背景**: #F9FAFB
- **パディング**: 16px

**行内容**:
- **プロジェクト名**: 16px、フォントウェイト600、色 #111827、リンク形式
- **ステータス**: バッジ形式、色分け（進行中・完了・一時停止・キャンセル）
- **優先度**: 色付きバッジ（高・中・低）
- **担当者**: アバター、名前、12px
- **進捗**: プログレスバー、パーセンテージ表示
- **期限**: 14px、色 #6B7280、アイコン付き
- **作成日**: 14px、色 #6B7280
- **アクション**: 編集・削除・詳細ボタン

**ステータスバッジ**:
- **進行中**: 背景色 #EFF6FF、テキスト色 #1E40AF、境界線 #3B82F6
- **完了**: 背景色 #F0FDF4、テキスト色 #166534、境界線 #10B981
- **一時停止**: 背景色 #FEF3C7、テキスト色 #92400E、境界線 #F59E0B
- **キャンセル**: 背景色 #FEF2F2、テキスト色 #991B1B、境界線 #EF4444

**優先度バッジ**:
- **高**: 背景色 #FEF2F2、テキスト色 #991B1B、境界線 #EF4444
- **中**: 背景色 #FEF3C7、テキスト色 #92400E、境界線 #F59E0B
- **低**: 背景色 #F0FDF4、テキスト色 #166534、境界線 #10B981

#### 3.2.3 ページネーション
**用途**: 大量データの分割表示・ナビゲーション
**デザイン仕様**:
- **位置**: テーブル下
- **背景色**: #FFFFFF
- **境界線**: 上側に1px #E5E7EB
- **パディング**: 16px 24px

**構成要素**:
- **ページ情報**: 「1-10 of 100」形式
- **ページサイズ選択**: 10・25・50・100選択
- **ページナビゲーション**: 前へ・次へ・ページ番号
- **表示件数**: 現在の表示件数表示

### 3.3 プロジェクト詳細パネルセクション
**レイアウト**: 右側スライドイン（デスクトップ）、モーダル（モバイル）
**幅**: 400px（デスクトップ）、100%（モバイル）
**高さ**: 100vh（デスクトップ）、適応的（モバイル）

#### 3.3.1 パネルヘッダー
**用途**: プロジェクト基本情報・アクション
**デザイン仕様**:
- **背景色**: #FFFFFF
- **境界線**: 下側に1px #E5E7EB
- **パディング**: 24px

**構成要素**:
- **プロジェクト名**: 20px、フォントウェイト600、色 #111827
- **ステータス**: バッジ形式、右側配置
- **閉じるボタン**: 右上、24x24px、色 #6B7280
- **編集ボタン**: 右側、セカンダリボタン

#### 3.3.2 基本情報セクション
**用途**: プロジェクトの基本情報表示・編集
**デザイン仕様**:
- **背景色**: #FFFFFF
- **パディング**: 24px

**情報項目**:
- **説明**: 16px、色 #374151、マージン下側16px
- **カテゴリ**: 14px、色 #6B7280、バッジ形式
- **優先度**: 14px、色 #6B7280、バッジ形式
- **担当者**: アバター、名前、14px、色 #374151
- **期限**: 14px、色 #6B7280、アイコン付き
- **作成日**: 14px、色 #6B7280
- **更新日**: 14px、色 #6B7280

#### 3.3.3 進捗・メトリクスセクション
**用途**: プロジェクトの進捗状況・主要指標の表示
**デザイン仕様**:
- **背景色**: #F9FAFB
- **境界線**: 1px #E5E7EB
- **角丸**: 8px
- **パディング**: 20px
- **マージン**: 24px

**進捗表示**:
- **全体進捗**: プログレスバー、パーセンテージ表示
- **タスク進捗**: 完了・進行中・未着手の数値表示
- **時間進捗**: 予定時間・実績時間・残り時間
- **リスク指標**: リスクレベル・問題件数・対応状況

#### 3.3.4 チーム・メンバーセクション
**用途**: プロジェクトメンバーの表示・管理
**デザイン仕様**:
- **背景色**: #FFFFFF
- **パディング**: 24px

**メンバー表示**:
- **メンバーリスト**: アバター、名前、役割、権限
- **役割表示**: プロジェクトマネージャー・開発者・テスター等
- **権限表示**: 管理者・編集者・閲覧者
- **追加ボタン**: 新規メンバー追加

#### 3.3.5 アクティビティ・履歴セクション
**用途**: プロジェクトの変更履歴・アクティビティ表示
**デザイン仕様**:
- **背景色**: #FFFFFF
- **パディング**: 24px

**履歴項目**:
- **変更履歴**: 日時・変更者・変更内容
- **アクティビティ**: タスク作成・ステータス変更・コメント追加
- **通知履歴**: 送信日時・受信者・内容
- **ファイル履歴**: アップロード・ダウンロード・削除

## 4. インタラクション設計

### 4.1 ユーザー操作フロー

#### 4.1.1 プロジェクト作成フロー
**開始**: 新規プロジェクトボタンクリック
**フロー**:
1. ボタンクリック → プロジェクト作成モーダル表示
2. 基本情報入力 → リアルタイムバリデーション
3. チーム設定 → メンバー選択・役割割り当て
4. ワークフロー設定 → テンプレート選択・カスタマイズ
5. 確認・作成 → 成功メッセージ・プロジェクト詳細画面遷移

**UI要件**:
- **モーダル**: 幅800px、高さ適応的
- **フォーム**: 必須項目の明確な表示
- **バリデーション**: リアルタイム・エラー表示
- **プレビュー**: 作成後の画面イメージ表示

#### 4.1.2 プロジェクト編集フロー
**開始**: プロジェクト一覧の編集ボタンクリック
**フロー**:
1. 編集ボタンクリック → インライン編集モード
2. 情報編集 → リアルタイム保存・バリデーション
3. 変更確認 → 変更内容のハイライト表示
4. 保存完了 → 成功メッセージ・更新反映

**UI要件**:
- **インライン編集**: 直接編集・即座保存
- **変更表示**: 変更前後の比較表示
- **保存状態**: 保存中・保存完了・エラー状態

#### 4.1.3 プロジェクト詳細表示フロー
**開始**: プロジェクト一覧のプロジェクト名クリック
**フロー**:
1. プロジェクト名クリック → 詳細パネル表示
2. 基本情報表示 → 編集・更新可能
3. 関連情報表示 → タスク・メンバー・履歴
4. アクション実行 → 編集・削除・アーカイブ

**UI要件**:
- **詳細パネル**: 右側スライドイン・モーダル
- **情報表示**: 階層的な情報構造
- **編集機能**: インライン編集・モーダル編集
- **アクション**: 適切なボタン配置・確認ダイアログ

### 4.2 フィードバック・状態表示

#### 4.2.1 即座フィードバック
**ボタンクリック**:
- 視覚的変化（色・影・変形）
- ローディング状態の表示
- 無効化（重複クリック防止）

**フォーム入力**:
- リアルタイムバリデーション
- エラー・成功状態の表示
- 文字数・制限の表示

**検索・フィルター**:
- 検索結果の即座表示
- フィルター適用の視覚的フィードバック
- 結果件数の表示

#### 4.2.2 遅延フィードバック
**データ読み込み**:
- スケルトンローダー表示
- プログレスバー・スピナー
- 読み込み状態の明確な表示

**処理実行**:
- 進行状況の表示
- 残り時間の推定
- キャンセル・中断の可能

**完了・エラー**:
- 成功メッセージ・トースト通知
- エラーメッセージ・解決案提示
- 次のアクションの案内

### 4.3 状態管理

#### 4.3.1 画面状態
**初期状態**:
- ローディング表示
- データの段階的読み込み
- エラー状態の適切な処理

**更新状態**:
- リアルタイム更新の表示
- 変更の視覚的ハイライト
- 更新履歴の表示

**エラー状態**:
- エラーメッセージの表示
- 再試行・代替案の提示
- ユーザーサポートへの案内

#### 4.3.2 データ状態
**キャッシュ管理**:
- 適切なキャッシュ戦略
- データの鮮度表示
- 手動更新の提供

**同期状態**:
- オンライン・オフライン状態
- データ同期の進行状況
- 競合解決の支援

## 5. レスポンシブデザイン

### 5.1 ブレークポイント対応

#### 5.1.1 デスクトップ（1025px以上）
**レイアウト**:
- サイドバー展開（280px）
- メインコンテンツフル幅
- 詳細パネル右側表示
- 全機能表示

**ナビゲーション**:
- ヘッダーメニュー表示
- サイドバーメニュー表示
- ブレッドクラム表示

#### 5.1.2 タブレット（769px - 1024px）
**レイアウト**:
- サイドバー折りたたみ（64px）
- メインコンテンツ適応幅
- 詳細パネル右側表示
- 主要機能表示

**ナビゲーション**:
- ヘッダーメニュー表示
- サイドバーアイコンのみ
- ブレッドクラム表示

#### 5.1.3 モバイル（320px - 768px）
**レイアウト**:
- サイドバーオーバーレイ
- メインコンテンツ単一カラム
- 詳細パネルモーダル表示
- 基本機能表示

**ナビゲーション**:
- ハンバーガーメニュー
- サイドバーオーバーレイ
- ブレッドクラム省略

### 5.2 コンテンツ調整

#### 5.2.1 検索・フィルター
**デスクトップ**: 横並び、フル機能表示
**タブレット**: 横並び、基本機能表示
**モバイル**: 縦並び、基本機能表示

#### 5.2.2 プロジェクト一覧テーブル
**デスクトップ**: 全列表示、詳細情報
**タブレット**: 主要列表示、基本情報
**モバイル**: 重要列表示、簡略情報

#### 5.2.3 プロジェクト詳細パネル
**デスクトップ**: 右側スライドイン、全情報表示
**タブレット**: 右側スライドイン、主要情報表示
**モバイル**: モーダル表示、基本情報表示

## 6. アクセシビリティ設計

### 6.1 キーボード操作
**Tab順序**:
- 論理的な順序での移動
- サイドバー → メインコンテンツ → アクション
- カスタムTab順序の設定

**ショートカットキー**:
- Ctrl+N: 新規プロジェクト
- Ctrl+F: 検索フォーカス
- Ctrl+E: 編集モード
- Ctrl+S: 保存
- Ctrl+Z: 元に戻す

**フォーカス管理**:
- 明確なフォーカスインジケーター
- フォーカスの適切な移動
- フォーカスの復元

### 6.2 スクリーンリーダー対応
**セマンティックHTML**:
- 適切な見出し階層（h1-h6）
- リスト要素（ul, ol, li）
- テーブル要素（table, th, td）
- フォーム要素（label, fieldset, legend）

**ARIA属性**:
- aria-label: 要素の説明
- aria-describedby: 詳細説明の関連付け
- aria-expanded: 展開・折りたたみ状態
- aria-selected: 選択状態
- aria-live: 動的更新の通知

**ランドマーク**:
- main: メインコンテンツ
- navigation: ナビゲーション
- sidebar: サイドバー
- contentinfo: フッター情報

### 6.3 色覚対応
**コントラスト比**:
- 通常テキスト: 4.5:1以上
- 大テキスト: 3:1以上
- UI要素: 3:1以上

**色以外の情報伝達**:
- アイコン・形状での識別
- テキストでの状態説明
- 境界線・パターンでの区別

## 7. パフォーマンス設計

### 7.1 表示パフォーマンス
**レンダリング最適化**:
- 仮想化（長いリスト・大量データ）
- 遅延読み込み・遅延レンダリング
- メモ化（計算結果・関数）

**データ最適化**:
- 適切なキャッシュ戦略
- バックグラウンド更新
- エラーハンドリング

### 7.2 操作パフォーマンス
**入力応答性**:
- 即座フィードバック（100ms以内）
- 適切なローディング表示
- 非同期処理の活用

**アニメーション**:
- 60fps維持
- 適切なアニメーション時間
- ハードウェアアクセラレーション

## 8. 実装ガイドライン

### 8.1 コンポーネント設計
**再利用性**:
- 汎用的なプロパティ設計
- 適切なデフォルト値の設定
- カスタマイズ可能なスタイル

**保守性**:
- 明確な責任分離
- 適切な抽象化レベル
- テスト容易性の確保

### 8.2 データ管理
**状態管理**:
- 適切な状態の配置
- 状態更新の最適化
- 非同期処理の適切な管理

**API連携**:
- 効率的なデータ取得
- エラーハンドリングの統一
- キャッシュ戦略の実装

### 8.3 テスト・品質保証
**コンポーネントテスト**:
- レンダリングテスト
- プロパティテスト
- イベントハンドリングテスト

**E2Eテスト**:
- ユーザー操作フローのテスト
- レスポンシブ対応の確認
- アクセシビリティの確認

## 9. 結論

### 9.1 設計の総括
本プロジェクト管理画面設計書により、統合版プラットフォームのプロジェクト管理が以下の特性を備えた直感的なインターフェースとして構築されます：

- **効率性**: プロジェクトの作成・編集・監視の効率化
- **可視性**: プロジェクト状況・進捗の一目での把握
- **一貫性**: 統一されたデザイン言語・操作感
- **アクセシビリティ**: 多様なユーザーの利用を支援

### 9.2 実装への指針
1. **段階的実装**: 基本レイアウト → 一覧表示 → 詳細表示 → インタラクション
2. **品質保証**: 継続的テスト・アクセシビリティ確認・パフォーマンス監視
3. **ユーザビリティ**: ユーザーテスト・フィードバック収集・継続改善

### 9.3 最終的な設計目標達成
この設計により、AI秘書チームの協調作業を支える、世界最高水準のプロジェクト管理システムが実現されます。
