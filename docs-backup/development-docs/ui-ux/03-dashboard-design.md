# Phase 7: UI/UX設計書 - ダッシュボード画面設計

## 1. 設計概要

### 1.1 設計目的
統合版プラットフォームのダッシュボード画面において、プロジェクト全体の状況・進捗を一目で把握でき、効率的な操作を支援する直感的なインターフェースを設計する。

### 1.2 画面の役割
- **プロジェクト概要**: 全体の状況・進捗の俯瞰
- **クイックアクセス**: 頻繁に使用する機能への迅速なアクセス
- **状況監視**: 重要なタスク・アラート・通知の表示
- **ナビゲーション**: 他の画面への効率的な移動

### 1.3 対象ユーザー
- **プライマリ**: プロジェクトマネージャー・開発リーダー
- **セカンダリ**: 開発者・チームメンバー
- **管理者**: システム管理者・品質管理者

## 2. 画面構成設計

### 2.1 全体レイアウト
**画面構造**:
```
┌─────────────────────────────────────────────────────────┐
│ ヘッダーナビゲーション (64px)                          │
├─────────────────┬───────────────────────────────────────┤
│ サイドバー      │ メインコンテンツエリア                │
│ ナビゲーション  │                                      │
│ (280px)        │  ┌─────────────────────────────────┐ │
│                 │  │ ブレッドクラム (40px)           │ │
│                 │  ├─────────────────────────────────┤ │
│                 │  │ ダッシュボードコンテンツ        │ │
│                 │  │                                 │ │
│                 │  │ ┌─────────┐ ┌─────────┐        │ │
│                 │  │ │統計カード│ │統計カード│        │ │
│                 │  │ └─────────┘ └─────────┘        │ │
│                 │  │                                 │ │
│                 │  │ ┌─────────────────────────────┐ │ │
│                 │  │ │ ワークフロー進捗チャート    │ │ │
│                 │  │ └─────────────────────────────┘ │ │
│                 │  │                                 │ │
│                 │  │ ┌─────────────────────────────┐ │ │
│                 │  │ │ 最近のアクティビティ        │ │ │
│                 │  │ └─────────────────────────────┘ │ │
│                 │  └─────────────────────────────────┘ │
└─────────────────┴───────────────────────────────────────┘
```

**レスポンシブ対応**:
- **デスクトップ**: サイドバー展開・メインコンテンツフル幅
- **タブレット**: サイドバー折りたたみ・メインコンテンツ適応
- **モバイル**: サイドバーオーバーレイ・メインコンテンツ単一カラム

### 2.2 ヘッダーエリア
**高さ**: 64px（固定）
**背景色**: #FFFFFF（ライトモード）、#1F2937（ダークモード）
**境界線**: 下側に1px #E5E7EB
**シャドウ**: 0 1px 3px 0 rgba(0, 0, 0, 0.1)

**構成要素**:
- **ロゴ・ブランド名**: 左端、32x32px、マージン右側24px
- **グローバルナビゲーション**: 中央、メニュー項目間隔24px
- **通知ベル**: 右端、24x24px、通知数バッジ表示
- **ユーザーメニュー**: 右端、24x24px、ドロップダウンメニュー

**通知ベル仕様**:
- **通常**: 色 #6B7280
- **通知あり**: 色 #EF4444
- **バッジ**: 赤い円、白い数字、最小サイズ16x16px
- **ホバー**: 通知一覧のプレビュー表示

### 2.3 サイドバーナビゲーション
**幅**: 280px（展開時）、64px（折りたたみ時）
**背景色**: #F9FAFB（ライトモード）、#111827（ダークモード）
**境界線**: 右側に1px #E5E7EB
**高さ**: 100vh
**z-index**: 900

**メニュー構成**:
```
ダッシュボード
├── プロジェクト
│   ├── プロジェクト一覧
│   ├── 新規プロジェクト
│   └── プロジェクトテンプレート
├── ワークフロー
│   ├── ワークフロー一覧
│   ├── 新規ワークフロー
│   └── ワークフローテンプレート
├── AI秘書
│   ├── AI秘書一覧
│   ├── 新規AI秘書
│   └── AI協議
├── プラン承認
│   ├── 承認待ち
│   ├── 承認済み
│   └── 却下
└── 設定
    ├── プロフィール
    ├── チーム設定
    ├── システム設定
    └── セキュリティ
```

**メニュー項目仕様**:
- **高さ**: 48px
- **パディング**: 12px 16px
- **フォント**: 16px、フォントウェイト500
- **色**: #374151
- **ホバー背景**: #F3F4F6
- **アクティブ背景**: #EFF6FF
- **アクティブ色**: #1E40AF

**アイコン仕様**:
- **サイズ**: 20x20px
- **色**: #6B7280
- **アクティブ色**: #3B82F6
- **マージン**: 右側12px

### 2.4 ブレッドクラム
**高さ**: 40px
**背景色**: #F9FAFB
**境界線**: 下側に1px #E5E7EB
**パディング**: 0 24px
**フォント**: 14px、フォントウェイト400

**表示内容**:
- **現在位置**: ダッシュボード
- **ナビゲーション**: ホーム > ダッシュボード
- **アクション**: なし（現在位置のみ）

## 3. メインコンテンツエリア

### 3.1 統計カードセクション
**レイアウト**: グリッド（2x2、レスポンシブ対応）
**マージン**: 24px
**カード間隔**: 24px

#### 3.1.1 プロジェクト概要カード
**用途**: プロジェクト全体の状況・進捗の表示
**デザイン仕様**:
- **背景色**: #FFFFFF
- **境界線**: 1px #E5E7EB
- **角丸**: 12px
- **シャドウ**: 0 1px 3px 0 rgba(0, 0, 0, 0.1)
- **パディング**: 24px
- **高さ**: 120px

**表示内容**:
- **タイトル**: 「プロジェクト概要」、16px、フォントウェイト600、色 #374151
- **総プロジェクト数**: 32px、フォントウェイト700、色 #111827
- **進行中**: 14px、色 #6B7280、数値 #3B82F6
- **完了**: 14px、色 #6B7280、数値 #10B981
- **遅延**: 14px、色 #6B7280、数値 #EF4444

**アイコン**: 右側、24x24px、色 #9CA3AF

#### 3.1.2 タスク状況カード
**用途**: タスクの完了状況・進捗の表示
**デザイン仕様**:
- **背景色**: #FFFFFF
- **境界線**: 1px #E5E7EB
- **角丸**: 12px
- **シャドウ**: 0 1px 3px 0 rgba(0, 0, 0, 0.1)
- **パディング**: 24px
- **高さ**: 120px

**表示内容**:
- **タイトル**: 「タスク状況」、16px、フォントウェイト600、色 #374151
- **総タスク数**: 32px、フォントウェイト700、色 #111827
- **完了率**: プログレスバー、色 #3B82F6
- **完了タスク**: 14px、色 #6B7280、数値 #10B981
- **残りタスク**: 14px、色 #6B7280、数値 #6B7280

**プログレスバー**:
- **高さ**: 8px
- **背景色**: #E5E7EB
- **進捗色**: #3B82F6
- **角丸**: 4px
- **アニメーション**: スムーズな進捗表示

#### 3.1.3 AI秘書稼働状況カード
**用途**: AI秘書の稼働状況・パフォーマンスの表示
**デザイン仕様**:
- **背景色**: #FFFFFF
- **境界線**: 1px #E5E7EB
- **角丸**: 12px
- **シャドウ**: 0 1px 3px 0 rgba(0, 0, 0, 0.1)
- **パディング**: 24px
- **高さ**: 120px

**表示内容**:
- **タイトル**: 「AI秘書稼働状況」、16px、フォントウェイト600、色 #374151
- **稼働中**: 32px、フォントウェイト700、色 #10B981
- **待機中**: 14px、色 #6B7280、数値 #F59E0B
- **エラー**: 14px、色 #6B7280、数値 #EF4444
- **稼働率**: 14px、色 #6B7280、数値 #3B82F6

#### 3.1.4 品質・リスクカード
**用途**: 品質指標・リスクレベルの表示
**デザイン仕様**:
- **背景色**: #FFFFFF
- **境界線**: 1px #E5E7EB
- **角丸**: 12px
- **シャドウ**: 0 1px 3px 0 rgba(0, 0, 0, 0.1)
- **パディング**: 24px
- **高さ**: 120px

**表示内容**:
- **タイトル**: 「品質・リスク」、16px、フォントウェイト600、色 #374151
- **品質スコア**: 32px、フォントウェイト700、色 #10B981
- **リスクレベル**: 14px、色 #6B7280、レベル表示
- **改善提案**: 14px、色 #6B7280、件数 #3B82F6
- **緊急対応**: 14px、色 #6B7280、件数 #EF4444

**リスクレベル表示**:
- **低**: 緑色 #10B981、円形インジケーター
- **中**: 黄色 #F59E0B、円形インジケーター
- **高**: 赤色 #EF4444、円形インジケーター

### 3.2 ワークフロー進捗チャートセクション
**レイアウト**: フル幅
**マージン**: 24px
**高さ**: 300px

#### 3.2.1 ガントチャート
**用途**: プロジェクト・タスクの時系列進捗表示
**デザイン仕様**:
- **背景色**: #FFFFFF
- **境界線**: 1px #E5E7EB
- **角丸**: 12px
- **シャドウ**: 0 1px 3px 0 rgba(0, 0, 0, 0.1)
- **パディング**: 24px

**ヘッダー**:
- **タイトル**: 「ワークフロー進捗」、20px、フォントウェイト600、色 #111827
- **期間選択**: ドロップダウン、期間（週・月・四半期）
- **表示切替**: タブ形式（ガント・カンバン・リスト）

**ガントチャート表示**:
- **時間軸**: 横軸、日付表示
- **プロジェクト軸**: 縦軸、プロジェクト名
- **タスクバー**: 色分け（進行中・完了・遅延・待機）
- **依存関係**: 矢印線での関連性表示
- **マイルストーン**: 菱形マーカーでの重要ポイント表示

**インタラクション**:
- **ズーム**: 時間軸の拡大・縮小
- **パン**: 時間軸の左右移動
- **詳細表示**: タスククリックで詳細情報
- **編集**: ドラッグ&ドロップで期間変更

#### 3.2.2 カンバンボード
**用途**: タスクの状態別表示・管理
**デザイン仕様**:
- **背景色**: #FFFFFF
- **境界線**: 1px #E5E7EB
- **角丸**: 12px
- **シャドウ**: 0 1px 3px 0 rgba(0, 0, 0, 0.1)
- **パディング**: 24px

**カラム構成**:
- **To Do**: 背景色 #F9FAFB、境界線 #E5E7EB
- **In Progress**: 背景色 #EFF6FF、境界線 #3B82F6
- **Review**: 背景色 #FEF3C7、境界線 #F59E0B
- **Done**: 背景色 #F0FDF4、境界線 #10B981

**タスクカード**:
- **背景色**: #FFFFFF
- **境界線**: 1px #E5E7EB
- **角丸**: 8px
- **パディング**: 16px
- **マージン**: 下側8px
- **シャドウ**: 0 1px 3px 0 rgba(0, 0, 0, 0.1)

**タスクカード内容**:
- **タイトル**: 16px、フォントウェイト600、色 #111827
- **説明**: 14px、色 #6B7280、2行まで表示
- **担当者**: アバター、名前、12px
- **優先度**: 色付きバッジ（高・中・低）
- **期限**: 14px、色 #6B7280、アイコン付き

**ドラッグ&ドロップ**:
- **移動**: カラム間でのタスク移動
- **状態更新**: 移動に応じた状態自動更新
- **アニメーション**: スムーズな移動アニメーション
- **フィードバック**: 移動可能・不可能の視覚的表示

### 3.3 最近のアクティビティセクション
**レイアウト**: フル幅
**マージン**: 24px
**高さ**: 250px

#### 3.3.1 アクティビティリスト
**用途**: 最近の操作・変更・通知の表示
**デザイン仕様**:
- **背景色**: #FFFFFF
- **境界線**: 1px #E5E7EB
- **角丸**: 12px
- **シャドウ**: 0 1px 3px 0 rgba(0, 0, 0, 0.1)
- **パディング**: 24px

**ヘッダー**:
- **タイトル**: 「最近のアクティビティ」、20px、フォントウェイト600、色 #111827
- **フィルター**: ドロップダウン、種類（全て・タスク・プロジェクト・AI秘書）
- **表示件数**: 10件・20件・50件選択

**アクティビティ項目**:
- **高さ**: 48px
- **パディング**: 12px 0
- **境界線**: 下側に1px #F3F4F6
- **ホバー背景**: #F9FAFB

**項目内容**:
- **アイコン**: 左側、20x20px、アクション別色分け
- **アクション**: 16px、フォントウェイト500、色 #374151
- **対象**: 14px、色 #6B7280、リンク形式
- **時刻**: 右側、12px、色 #9CA3AF
- **ユーザー**: アバター、名前、12px

**アイコン色分け**:
- **タスク作成**: #3B82F6
- **プロジェクト更新**: #10B981
- **AI秘書操作**: #F59E0B
- **エラー・警告**: #EF4444
- **設定変更**: #6B7280

#### 3.3.2 通知・アラート
**用途**: 重要な通知・アラートの表示
**デザイン仕様**:
- **背景色**: #FFFFFF
- **境界線**: 1px #E5E7EB
- **角丸**: 12px
- **シャドウ**: 0 1px 3px 0 rgba(0, 0, 0, 0.1)
- **パディング**: 24px

**通知種類**:
- **情報**: 左境界線 #3B82F6、アイコン色 #3B82F6
- **成功**: 左境界線 #10B981、アイコン色 #10B981
- **警告**: 左境界線 #F59E0B、アイコン色 #F59E0B
- **エラー**: 左境界線 #EF4444、アイコン色 #EF4444

**通知内容**:
- **タイトル**: 16px、フォントウェイト600、色 #111827
- **説明**: 14px、色 #6B7280
- **時刻**: 12px、色 #9CA3AF
- **アクション**: ボタン（確認・詳細・無視）

### 3.4 クイックアクションセクション
**レイアウト**: フル幅
**マージン**: 24px
**高さ**: 120px

#### 3.4.1 アクションボタン
**用途**: 頻繁に使用する機能への迅速なアクセス
**デザイン仕様**:
- **背景色**: #FFFFFF
- **境界線**: 1px #E5E7EB
- **角丸**: 12px
- **シャドウ**: 0 1px 3px 0 rgba(0, 0, 0, 0.1)
- **パディング**: 24px

**ボタン構成**:
- **新規プロジェクト**: プライマリボタン、アイコン + テキスト
- **新規ワークフロー**: セカンダリボタン、アイコン + テキスト
- **AI秘書追加**: セカンダリボタン、アイコン + テキスト
- **レポート生成**: セカンダリボタン、アイコン + テキスト

**ボタン仕様**:
- **高さ**: 48px
- **幅**: 200px
- **アイコン**: 左側、20x20px
- **テキスト**: 16px、フォントウェイト500
- **間隔**: 16px

## 4. インタラクション設計

### 4.1 ユーザー操作フロー

#### 4.1.1 プロジェクト作成フロー
**開始**: クイックアクション「新規プロジェクト」ボタン
**フロー**:
1. ボタンクリック → プロジェクト作成モーダル表示
2. 基本情報入力 → リアルタイムバリデーション
3. 設定・オプション選択 → プレビュー表示
4. 確認・作成 → 成功メッセージ・プロジェクト詳細画面遷移

**UI要件**:
- **モーダル**: 幅700px、高さ適応的
- **フォーム**: 必須項目の明確な表示
- **バリデーション**: リアルタイム・エラー表示
- **プレビュー**: 作成後の画面イメージ表示

#### 4.1.2 タスク詳細表示フロー
**開始**: ワークフロー進捗チャートのタスククリック
**フロー**:
1. タスククリック → 詳細サイドパネル表示
2. 基本情報表示 → 編集・更新可能
3. 関連情報表示 → 依存関係・履歴・コメント
4. アクション実行 → 状態変更・担当者割り当て

**UI要件**:
- **サイドパネル**: 幅400px、右側スライドイン
- **情報表示**: 階層的な情報構造
- **編集機能**: インライン編集・モーダル編集
- **アクション**: 適切なボタン配置・確認ダイアログ

#### 4.1.3 通知対応フロー
**開始**: 通知・アラートのアクションボタン
**フロー**:
1. 通知クリック → 詳細表示・対応画面
2. 状況確認 → 関連情報・コンテキスト表示
3. 対応実行 → アクション・状態更新
4. 完了確認 → 結果表示・履歴記録

**UI要件**:
- **詳細表示**: モーダル・サイドパネル
- **対応画面**: 適切なフォーム・オプション
- **進行状況**: ステップ表示・プログレスバー
- **完了確認**: 成功メッセージ・次のアクション

### 4.2 フィードバック・状態表示

#### 4.2.1 即座フィードバック
**ボタンクリック**:
- 視覚的変化（色・影・変形）
- ローディング状態の表示
- 無効化（重複クリック防止）

**フォーム入力**:
- リアルタイムバリデーション
- エラー・成功状態の表示
- 文字数・制限の表示

**ドラッグ&ドロップ**:
- ドロップ可能エリアのハイライト
- 移動中のプレビュー表示
- 成功・失敗の視覚的フィードバック

#### 4.2.2 遅延フィードバック
**データ読み込み**:
- スケルトンローダー表示
- プログレスバー・スピナー
- 読み込み状態の明確な表示

**処理実行**:
- 進行状況の表示
- 残り時間の推定
- キャンセル・中断の可能

**完了・エラー**:
- 成功メッセージ・トースト通知
- エラーメッセージ・解決案提示
- 次のアクションの案内

### 4.3 状態管理

#### 4.3.1 画面状態
**初期状態**:
- ローディング表示
- データの段階的読み込み
- エラー状態の適切な処理

**更新状態**:
- リアルタイム更新の表示
- 変更の視覚的ハイライト
- 更新履歴の表示

**エラー状態**:
- エラーメッセージの表示
- 再試行・代替案の提示
- ユーザーサポートへの案内

#### 4.3.2 データ状態
**キャッシュ管理**:
- 適切なキャッシュ戦略
- データの鮮度表示
- 手動更新の提供

**同期状態**:
- オンライン・オフライン状態
- データ同期の進行状況
- 競合解決の支援

## 5. レスポンシブデザイン

### 5.1 ブレークポイント対応

#### 5.1.1 デスクトップ（1025px以上）
**レイアウト**:
- サイドバー展開（280px）
- メインコンテンツフル幅
- 統計カード2x2グリッド
- 全機能表示

**ナビゲーション**:
- ヘッダーメニュー表示
- サイドバーメニュー表示
- ブレッドクラム表示

#### 5.1.2 タブレット（769px - 1024px）
**レイアウト**:
- サイドバー折りたたみ（64px）
- メインコンテンツ適応幅
- 統計カード2x2グリッド
- 主要機能表示

**ナビゲーション**:
- ヘッダーメニュー表示
- サイドバーアイコンのみ
- ブレッドクラム表示

#### 5.1.3 モバイル（320px - 768px）
**レイアウト**:
- サイドバーオーバーレイ
- メインコンテンツ単一カラム
- 統計カード縦並び
- 基本機能表示

**ナビゲーション**:
- ハンバーガーメニュー
- サイドバーオーバーレイ
- ブレッドクラム省略

### 5.2 コンテンツ調整

#### 5.2.1 統計カード
**デスクトップ**: 2x2グリッド、フルサイズ表示
**タブレット**: 2x2グリッド、適応サイズ
**モバイル**: 縦並び、フル幅表示

#### 5.2.2 ワークフロー進捗チャート
**デスクトップ**: フル機能、詳細表示
**タブレット**: 基本機能、中程度詳細
**モバイル**: 基本機能、簡略表示

#### 5.2.3 アクティビティリスト
**デスクトップ**: 全項目表示、詳細情報
**タブレット**: 主要項目表示、基本情報
**モバイル**: 重要項目表示、簡略情報

## 6. アクセシビリティ設計

### 6.1 キーボード操作
**Tab順序**:
- 論理的な順序での移動
- サイドバー → メインコンテンツ → アクション
- カスタムTab順序の設定

**ショートカットキー**:
- Ctrl+N: 新規プロジェクト
- Ctrl+W: 新規ワークフロー
- Ctrl+A: AI秘書追加
- Ctrl+R: レポート生成

**フォーカス管理**:
- 明確なフォーカスインジケーター
- フォーカスの適切な移動
- フォーカスの復元

### 6.2 スクリーンリーダー対応
**セマンティックHTML**:
- 適切な見出し階層（h1-h6）
- リスト要素（ul, ol, li）
- テーブル要素（table, th, td）
- フォーム要素（label, fieldset, legend）

**ARIA属性**:
- aria-label: 要素の説明
- aria-describedby: 詳細説明の関連付け
- aria-expanded: 展開・折りたたみ状態
- aria-selected: 選択状態
- aria-live: 動的更新の通知

**ランドマーク**:
- main: メインコンテンツ
- navigation: ナビゲーション
- sidebar: サイドバー
- contentinfo: フッター情報

### 6.3 色覚対応
**コントラスト比**:
- 通常テキスト: 4.5:1以上
- 大テキスト: 3:1以上
- UI要素: 3:1以上

**色以外の情報伝達**:
- アイコン・形状での識別
- テキストでの状態説明
- 境界線・パターンでの区別

## 7. パフォーマンス設計

### 7.1 表示パフォーマンス
**レンダリング最適化**:
- 仮想化（長いリスト・大量データ）
- 遅延読み込み・遅延レンダリング
- メモ化（計算結果・関数）

**データ最適化**:
- 適切なキャッシュ戦略
- バックグラウンド更新
- エラーハンドリング

### 7.2 操作パフォーマンス
**入力応答性**:
- 即座フィードバック（100ms以内）
- 適切なローディング表示
- 非同期処理の活用

**アニメーション**:
- 60fps維持
- 適切なアニメーション時間
- ハードウェアアクセラレーション

## 8. 実装ガイドライン

### 8.1 コンポーネント設計
**再利用性**:
- 汎用的なプロパティ設計
- 適切なデフォルト値の設定
- カスタマイズ可能なスタイル

**保守性**:
- 明確な責任分離
- 適切な抽象化レベル
- テスト容易性の確保

### 8.2 データ管理
**状態管理**:
- 適切な状態の配置
- 状態更新の最適化
- 非同期処理の適切な管理

**API連携**:
- 効率的なデータ取得
- エラーハンドリングの統一
- キャッシュ戦略の実装

### 8.3 テスト・品質保証
**コンポーネントテスト**:
- レンダリングテスト
- プロパティテスト
- イベントハンドリングテスト

**E2Eテスト**:
- ユーザー操作フローのテスト
- レスポンシブ対応の確認
- アクセシビリティの確認

## 9. 結論

### 9.1 設計の総括
本ダッシュボード画面設計書により、統合版プラットフォームのダッシュボードが以下の特性を備えた直感的なインターフェースとして構築されます：

- **可視性**: プロジェクト状況・進捗の一目での把握
- **効率性**: 頻繁な操作への迅速なアクセス
- **一貫性**: 統一されたデザイン言語・操作感
- **アクセシビリティ**: 多様なユーザーの利用を支援

### 9.2 実装への指針
1. **段階的実装**: 基本レイアウト → 統計カード → チャート → インタラクション
2. **品質保証**: 継続的テスト・アクセシビリティ確認・パフォーマンス監視
3. **ユーザビリティ**: ユーザーテスト・フィードバック収集・継続改善

### 9.3 最終的な設計目標達成
この設計により、AI秘書チームの協調作業を支える、世界最高水準のダッシュボードシステムが実現されます。
