# Phase 10: UI/UX設計書 - レスポンシブデザイン

## 1. 設計概要

### 1.1 設計目的
統合版プラットフォームのレスポンシブデザインにおいて、様々なデバイス・画面サイズ・向きに対応し、どの環境でも最適なユーザー体験を提供する包括的なレスポンシブ仕様を定義する。

### 1.2 設計の役割
- **マルチデバイス対応**: デスクトップ・タブレット・モバイルでの最適表示
- **画面サイズ適応**: 様々な解像度・アスペクト比への対応
- **向き対応**: 縦・横画面の両方での最適化
- **操作方式適応**: マウス・タッチ・キーボードでの操作最適化
- **パフォーマンス最適化**: デバイス性能に応じた最適化

### 1.3 対象デバイス
- **デスクトップ**: Windows・macOS・Linux（1024px以上）
- **タブレット**: iPad・Androidタブレット（768px-1024px）
- **モバイル**: iPhone・Android（768px以下）
- **大画面**: 4K・ウルトラワイド（1920px以上）

## 2. ブレークポイント設計

### 2.1 基本ブレークポイント
**モバイルファースト設計**:
- **xs**: 0px - 480px（小型モバイル）
- **sm**: 481px - 768px（モバイル）
- **md**: 769px - 1024px（タブレット）
- **lg**: 1025px - 1440px（デスクトップ）
- **xl**: 1441px - 1920px（大画面）
- **2xl**: 1921px以上（ウルトラワイド）

**実装例**:
```css
/* モバイルファースト */
.container {
  padding: 1rem;
  max-width: 100%;
}

/* タブレット以上 */
@media (min-width: 769px) {
  .container {
    padding: 1.5rem;
    max-width: 960px;
  }
}

/* デスクトップ以上 */
@media (min-width: 1025px) {
  .container {
    padding: 2rem;
    max-width: 1200px;
  }
}
```

### 2.2 高度ブレークポイント
**コンテンツベース設計**:
- **コンテンツブレークポイント**: コンテンツの可読性に基づく調整
- **コンポーネントブレークポイント**: 個別コンポーネントの最適化
- **ユーザー設定**: ユーザーによる表示設定のカスタマイズ

**デバイス特性対応**:
- **ピクセル密度**: Retina・高DPIディスプレイへの対応
- **アスペクト比**: 16:9・21:9・4:3等への対応
- **向き**: 縦・横画面の自動検出・最適化

## 3. レイアウト設計

### 3.1 グリッドシステム
**フレキシブルグリッド**:
- **12カラムグリッド**: デスクトップでの12カラム
- **8カラムグリッド**: タブレットでの8カラム
- **4カラムグリッド**: モバイルでの4カラム
- **1カラムグリッド**: 小型モバイルでの1カラム

**レスポンシブグリッド**:
```css
.grid {
  display: grid;
  gap: 1rem;
  grid-template-columns: 1fr;
}

@media (min-width: 769px) {
  .grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (min-width: 1025px) {
  .grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

@media (min-width: 1441px) {
  .grid {
    grid-template-columns: repeat(4, 1fr);
  }
}
```

### 3.2 レイアウトパターン
**アダプティブレイアウト**:
- **リキッドレイアウト**: パーセンテージベースの可変幅
- **フレキシブルレイアウト**: Flexbox・Gridによる柔軟な配置
- **ハイブリッドレイアウト**: 固定幅と可変幅の組み合わせ

**レイアウト切り替え**:
- **スタックレイアウト**: 縦並びから横並びへの切り替え
- **サイドバー切り替え**: サイドバーの表示・非表示切り替え
- **ナビゲーション切り替え**: メニュー形式の切り替え

### 3.3 コンテナ設計
**コンテナサイズ**:
- **xs**: 100%（全幅）
- **sm**: 100%（全幅）
- **md**: 90%（最大768px）
- **lg**: 85%（最大1024px）
- **xl**: 80%（最大1440px）
- **2xl**: 75%（最大1920px）

**コンテナ配置**:
- **中央配置**: 左右中央揃え
- **左揃え**: 左端揃え
- **右揃え**: 右端揃え
- **フルワイド**: 画面幅いっぱい

## 4. ナビゲーション設計

### 4.1 ヘッダーナビゲーション
**デスクトップ表示**:
- **水平メニュー**: 横並びのメニュー項目
- **ドロップダウン**: ホバー時のサブメニュー
- **検索バー**: ヘッダー内の検索機能
- **ユーザーメニュー**: 右端のユーザー情報・設定

**タブレット表示**:
- **縮小メニュー**: 重要な項目のみ表示
- **折りたたみメニュー**: クリックで展開するメニュー
- **検索アイコン**: 検索バーのアイコン化
- **ユーザーアイコン**: ユーザーメニューのアイコン化

**モバイル表示**:
- **ハンバーガーメニュー**: 左端のメニューボタン
- **オーバーレイメニュー**: 全画面オーバーレイ
- **検索アイコン**: 検索機能のアイコン化
- **通知アイコン**: 通知・設定のアイコン化

### 4.2 サイドバーナビゲーション
**デスクトップ表示**:
- **常時表示**: 左側の固定サイドバー
- **折りたたみ**: アイコンのみ表示モード
- **幅**: 280px（展開時）・64px（折りたたみ時）

**タブレット表示**:
- **条件付き表示**: 必要時のみ表示
- **オーバーレイ**: 画面の上に重ねて表示
- **幅**: 240px（画面幅の30%）

**モバイル表示**:
- **非表示**: デフォルトでは非表示
- **スライドイン**: 左端からスライドイン
- **幅**: 280px（画面幅の85%）

### 4.3 フッターナビゲーション
**デスクトップ表示**:
- **多列レイアウト**: 3-4列の情報表示
- **詳細情報**: 会社情報・リンク・連絡先
- **ソーシャルリンク**: SNS・連絡先情報

**タブレット表示**:
- **2列レイアウト**: 2列での情報整理
- **重要情報**: 主要な情報のみ表示
- **折りたたみ**: 詳細情報の折りたたみ

**モバイル表示**:
- **1列レイアウト**: 縦並びでの情報表示
- **アコーディオン**: カテゴリ別の折りたたみ
- **重要度順**: 重要度の高い情報を上位に

## 5. コンポーネント設計

### 5.1 ボタン・フォーム
**ボタンサイズ**:
- **xs**: 32px × 24px（小型モバイル）
- **sm**: 40px × 32px（モバイル）
- **md**: 48px × 40px（タブレット）
- **lg**: 56px × 48px（デスクトップ）
- **xl**: 64px × 56px（大画面）

**フォーム要素**:
- **入力フィールド**: 最小44pxの高さ
- **チェックボックス**: 最小24px × 24px
- **ラジオボタン**: 最小24px × 24px
- **セレクトボックス**: 最小44pxの高さ

### 5.2 カード・リスト
**カードサイズ**:
- **xs**: 100% × auto（小型モバイル）
- **sm**: 100% × auto（モバイル）
- **md**: 320px × auto（タブレット）
- **lg**: 360px × auto（デスクトップ）
- **xl**: 400px × auto（大画面）

**リスト表示**:
- **xs**: 1列表示（縦並び）
- **sm**: 1列表示（縦並び）
- **md**: 2列表示（グリッド）
- **lg**: 3列表示（グリッド）
- **xl**: 4列表示（グリッド）

### 5.3 テーブル・データ表示
**テーブル表示**:
- **xs**: カード形式（縦並び）
- **sm**: カード形式（縦並び）
- **md**: 横スクロールテーブル
- **lg**: 完全表示テーブル
- **xl**: 完全表示テーブル

**データ可視化**:
- **xs**: シンプルな数値表示
- **sm**: 基本的なグラフ表示
- **md**: 標準的なグラフ表示
- **lg**: 詳細なグラフ表示
- **xl**: 高度なグラフ表示

## 6. タイポグラフィ設計

### 6.1 フォントサイズ
**基本フォントサイズ**:
- **xs**: 12px（小型モバイル）
- **sm**: 14px（モバイル）
- **md**: 16px（タブレット）
- **lg**: 18px（デスクトップ）
- **xl**: 20px（大画面）

**見出しサイズ**:
- **h1**: 24px → 28px → 32px → 36px → 40px
- **h2**: 20px → 24px → 28px → 32px → 36px
- **h3**: 18px → 20px → 24px → 28px → 32px
- **h4**: 16px → 18px → 20px → 24px → 28px
- **h5**: 14px → 16px → 18px → 20px → 24px
- **h6**: 12px → 14px → 16px → 18px → 20px

### 6.2 行間・余白
**行間設定**:
- **xs**: 1.4（小型モバイル）
- **sm**: 1.5（モバイル）
- **md**: 1.6（タブレット）
- **lg**: 1.7（デスクトップ）
- **xl**: 1.8（大画面）

**余白設定**:
- **xs**: 0.5rem（8px）
- **sm**: 0.75rem（12px）
- **md**: 1rem（16px）
- **lg**: 1.5rem（24px）
- **xl**: 2rem（32px）

## 7. 画像・メディア設計

### 7.1 画像最適化
**画像サイズ**:
- **xs**: 320px幅（小型モバイル）
- **sm**: 480px幅（モバイル）
- **md**: 768px幅（タブレット）
- **lg**: 1024px幅（デスクトップ）
- **xl**: 1440px幅（大画面）

**画像形式**:
- **WebP**: 最新ブラウザでの最適化
- **JPEG**: 写真・複雑な画像
- **PNG**: 透明性が必要な画像
- **SVG**: アイコン・シンプルな図形

### 7.2 レスポンシブ画像
**srcset属性**:
```html
<img src="image-320.jpg"
     srcset="image-320.jpg 320w,
             image-480.jpg 480w,
             image-768.jpg 768w,
             image-1024.jpg 1024w,
             image-1440.jpg 1440w"
     sizes="(max-width: 480px) 320px,
            (max-width: 768px) 480px,
            (max-width: 1024px) 768px,
            (max-width: 1440px) 1024px,
            1440px"
     alt="説明文">
```

**picture要素**:
```html
<picture>
  <source media="(min-width: 1024px)" srcset="large.jpg">
  <source media="(min-width: 768px)" srcset="medium.jpg">
  <img src="small.jpg" alt="説明文">
</picture>
```

### 7.3 動画・メディア
**動画最適化**:
- **自動再生**: モバイルでの自動再生制限
- **コントロール**: タッチ操作に適したコントロール
- **品質調整**: ネットワーク状況に応じた品質調整
- **字幕**: アクセシビリティ対応の字幕

## 8. パフォーマンス最適化

### 8.1 読み込み最適化
**遅延読み込み**:
- **画像遅延読み込み**: 画面内の画像のみ読み込み
- **コンポーネント遅延読み込み**: 必要時のみの読み込み
- **データ遅延読み込み**: 段階的なデータ読み込み

**キャッシュ戦略**:
- **ブラウザキャッシュ**: 静的リソースのキャッシュ
- **サービスワーカー**: オフライン対応のキャッシュ
- **CDN活用**: 地理的に近いサーバーからの配信

### 8.2 レンダリング最適化
**CSS最適化**:
- **メディアクエリの最適化**: 必要なスタイルのみ適用
- **CSS変数の活用**: 動的なスタイル変更
- **クリティカルCSS**: 初期表示に必要なCSSの最適化

**JavaScript最適化**:
- **コード分割**: 必要な機能のみの読み込み
- **Tree Shaking**: 未使用コードの除去
- **バンドル最適化**: 効率的なファイル分割

## 9. タッチ操作最適化

### 9.1 タッチターゲット
**最小サイズ**:
- **推奨サイズ**: 44px × 44px
- **最小サイズ**: 32px × 32px
- **間隔**: 8px以上
- **配置**: 片手操作に適した配置

**タッチ操作**:
- **タップ**: 基本的なタップ操作
- **ダブルタップ**: ズーム・詳細表示
- **ロングタップ**: コンテキストメニュー
- **スワイプ**: ナビゲーション・スクロール

### 9.2 ジェスチャー対応
**基本ジェスチャー**:
- **スワイプ**: 左右・上下のスワイプ
- **ピンチ**: 拡大・縮小
- **ローテーション**: 回転操作
- **マルチタッチ**: 複数指での操作

**カスタムジェスチャー**:
- **スワイプアップ**: 詳細表示
- **スワイプダウン**: 更新・リフレッシュ
- **スワイプ左**: 削除・アーカイブ
- **スワイプ右**: 完了・承認

## 10. 向き対応設計

### 10.1 縦横画面対応
**縦画面（Portrait）**:
- **縦長レイアウト**: 縦方向の情報配置
- **スクロール**: 縦スクロールでの情報閲覧
- **ナビゲーション**: 縦方向のメニュー配置

**横画面（Landscape）**:
- **横長レイアウト**: 横方向の情報配置
- **サイドバー**: 横方向のサイドバー表示
- **グリッド**: 横方向のグリッド配置

### 10.2 向き検出・対応
**向き検出**:
```javascript
// 向き変更の検出
window.addEventListener('orientationchange', function() {
  // 向き変更時の処理
  handleOrientationChange();
});

// 向きの取得
function getOrientation() {
  return window.innerHeight > window.innerWidth ? 'portrait' : 'landscape';
}
```

**向き別レイアウト**:
```css
/* 縦画面 */
@media (orientation: portrait) {
  .container {
    flex-direction: column;
  }
}

/* 横画面 */
@media (orientation: landscape) {
  .container {
    flex-direction: row;
  }
}
```

## 11. アクセシビリティ対応

### 11.1 レスポンシブアクセシビリティ
**フォントサイズ**:
- **ユーザー設定**: ブラウザ設定の尊重
- **ズーム対応**: 200%ズームでの表示確認
- **高コントラスト**: 高コントラストモード対応

**操作支援**:
- **タッチ操作**: タッチデバイスでの操作支援
- **キーボード操作**: キーボードのみでの操作
- **音声操作**: 音声コマンドでの操作

### 11.2 ユーザビリティ向上
**可読性**:
- **十分なコントラスト**: WCAG AA準拠のコントラスト比
- **適切な行間**: 読みやすい行間設定
- **適切な余白**: 要素間の適切な余白

**操作性**:
- **十分なサイズ**: 操作しやすい要素サイズ
- **適切な間隔**: 誤操作を防ぐ要素間隔
- **明確な状態**: 現在状態の明確な表示

## 12. テスト・検証

### 12.1 レスポンシブテスト
**デバイステスト**:
- **実機テスト**: 実際のデバイスでの動作確認
- **エミュレータ**: 開発環境でのデバイスエミュレーション
- **ブラウザテスト**: 主要ブラウザでの表示確認

**画面サイズテスト**:
- **ブレークポイントテスト**: 各ブレークポイントでの表示確認
- **中間サイズテスト**: ブレークポイント間での表示確認
- **極端サイズテスト**: 最小・最大サイズでの表示確認

### 12.2 パフォーマンステスト
**読み込み速度**:
- **初期表示**: 各デバイスでの初期表示時間
- **操作応答**: 各デバイスでの操作応答時間
- **スクロール**: 各デバイスでのスクロール性能

**リソース使用量**:
- **メモリ使用量**: 各デバイスでのメモリ使用量
- **CPU使用率**: 各デバイスでのCPU使用率
- **バッテリー消費**: モバイルデバイスでのバッテリー消費

## 13. 実装ガイドライン

### 13.1 CSS実装
**メディアクエリ**:
```css
/* モバイルファースト */
.component {
  /* 基本スタイル（モバイル） */
}

/* タブレット以上 */
@media (min-width: 769px) {
  .component {
    /* タブレット用スタイル */
  }
}

/* デスクトップ以上 */
@media (min-width: 1025px) {
  .component {
    /* デスクトップ用スタイル */
  }
}
```

**CSS変数**:
```css
:root {
  --container-padding: 1rem;
  --container-max-width: 100%;
}

@media (min-width: 769px) {
  :root {
    --container-padding: 1.5rem;
    --container-max-width: 960px;
  }
}

.container {
  padding: var(--container-padding);
  max-width: var(--container-max-width);
}
```

### 13.2 JavaScript実装
**レスポンシブ検出**:
```javascript
// ブレークポイントの検出
const breakpoints = {
  xs: 0,
  sm: 481,
  md: 769,
  lg: 1025,
  xl: 1441,
  '2xl': 1921
};

function getCurrentBreakpoint() {
  const width = window.innerWidth;
  for (const [breakpoint, minWidth] of Object.entries(breakpoints)) {
    if (width >= minWidth) {
      return breakpoint;
    }
  }
  return 'xs';
}

// ブレークポイント変更の監視
window.addEventListener('resize', function() {
  const currentBreakpoint = getCurrentBreakpoint();
  handleBreakpointChange(currentBreakpoint);
});
```

## 14. まとめ

レスポンシブデザインの詳細設計書が完成しました。この設計書では以下の特徴を実現しています：

### 14.1 主要な特徴
- **マルチデバイス対応**: 全デバイスでの最適な表示・操作
- **柔軟なレイアウト**: 画面サイズに応じた適応的なレイアウト
- **最適化されたコンポーネント**: 各デバイスでの最適なサイズ・配置
- **パフォーマンス最適化**: デバイス性能に応じた最適化
- **アクセシビリティ対応**: 全ユーザーが利用可能な設計

### 14.2 設計のポイント
- **モバイルファースト**: モバイルを基準とした設計
- **一貫性**: 全デバイスでの統一された体験
- **パフォーマンス**: 各デバイスでの最適な性能
- **ユーザビリティ**: デバイス特性に応じた操作最適化
- **将来性**: 新デバイス・新技術への対応

### 14.3 次のステップ
この設計書を基に、以下の設計書作成を進めます：
- アクセシビリティ設計
- パフォーマンス設計

各設計書においても、高度推論を活用し、包括的で実用的な設計を提供いたします。
