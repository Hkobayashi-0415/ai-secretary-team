# AI-Code プロジェクト レガシー情報アーカイブ

## 概要
このドキュメントは、AI秘書チーム・プラットフォーム（統合版）への統合過程で除去された、元AI-Codeプロジェクト固有の情報を体系的に集約したものです。

**目的**: 
- 除去されたAI-Code固有情報の保存
- 将来的なAI-Codeコンポーネント流用時の技術的負債特定
- 統合プロジェクトの設計判断根拠の記録

**作成日**: 2024年12月
**更新履歴**: 初版作成

---

## 1. プロジェクト基本情報

### 1.1 元プロジェクト名
- **正式名称**: AI_code プロジェクト
- **別称**: AI協調開発プラットフォーム（AI_code）
- **英語表記**: AI Code Project

### 1.2 元プロジェクトの目的・特徴
- **主要目的**: 複数の生成AI（GPT、Gemini、Claude）を協調させたコーディング支援プラットフォーム
- **特化領域**: コーディングタスクに特化
- **協調方式**: Zen MCP Serverを活用したClaude Code/Gemini CLI連携
- **知識管理**: Obsidian連携による外部脳機能

### 1.3 元プロジェクトの位置づけ
- **親プロジェクト**: AIエージェント/AI秘書プロジェクトの一部機能
- **開発経緯**: AI秘書プロジェクトからコーディング機能を先行切り出し
- **最終目標**: AI秘書プロジェクトへの統合・吸収

---

## 2. 技術スタック（元仕様）

### 2.1 データベース
- **主要DB**: SQLite
- **ファイル名**: `backend/ai_code.db`
- **管理方式**: ファイルベース
- **移行対象**: PostgreSQL 16 + Redis 7

### 2.2 バックエンド
- **フレームワーク**: FastAPI
- **Python バージョン**: 3.12
- **ORM**: SQLAlchemy 2.0+
- **認証**: JWT + bcrypt

### 2.3 フロントエンド
- **フレームワーク**: React 18 + TypeScript
- **ビルドツール**: Vite
- **状態管理**: Zustand + React Query
- **UI ライブラリ**: カスタム（Vibe-kanban インスパイア）

### 2.4 AI連携
- **Zen MCP Server**: Claude Code/Cursor連携
- **Gemini CLI**: 直接API連携
- **GPT**: OpenAI API連携
- **協調方式**: MCPプロトコルベース

---

## 3. 実装済み機能

### 3.1 基本機能
- **ユーザー管理**: 認証・認可システム
- **ワークスペース管理**: 分離された作業環境
- **ペルソナシステム**: 5等分の花嫁キャラクター（姉妹）
- **タスク管理**: カンバンボードUI

### 3.2 AI協調機能
- **Zen MCP Server**: 実装済み
- **Claude Code連携**: 実装済み
- **Gemini CLI連携**: 実装済み
- **相互通信**: 基本的な実装あり

### 3.3 知識管理
- **Obsidian連携**: 基本的な実装あり
- **データ蓄積**: ファイルベース
- **検索機能**: 一部実装済み
- **タグ管理**: 基本的な仕組みあり

### 3.4 UI/UX
- **3カラムレイアウト**: 実装済み
- **ワークスペースパネル**: 実装済み
- **カンバンUI**: Vibe-kanbanインスパイア
- **レスポンシブ対応**: 基本的な実装

---

## 4. 既知の問題・技術的負債

### 4.1 データベース関連
- **SQLite制限**: 同時接続数制限
- **スケーラビリティ**: 大規模データ対応困難
- **バックアップ**: ファイルベースの脆弱性
- **移行手順**: 未整備

### 4.2 AI協調機能
- **Zen MCP制限**: コーディング特化の制約
- **API連携**: 一部未実装
- **エラーハンドリング**: 不十分
- **ログ管理**: 基本的な実装のみ

### 4.3 フロントエンド
- **状態管理**: 複雑化の兆候
- **パフォーマンス**: 最適化未完了
- **テスト**: 基本的なテストのみ
- **エラーバウンダリ**: 不十分

### 4.4 統合・運用
- **設定管理**: 環境変数管理不十分
- **ログ**: 構造化ログ未実装
- **監視**: 基本的な監視のみ
- **デプロイ**: 手動デプロイ

---

## 5. 設計思想・アーキテクチャ

### 5.1 元設計思想
- **AI協調**: 複数AIの役割分担によるタスク実行
- **ペルソナ**: キャラクター性による使い分け
- **ワークスペース分離**: タスク・プロジェクト単位の環境分離
- **外部脳**: Obsidianによる知識蓄積・検索

### 5.2 元アーキテクチャ
```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   Frontend      │    │   Backend       │    │   AI Services   │
│   (React)       │◄──►│   (FastAPI)     │◄──►│   (Zen MCP)     │
└─────────────────┘    └─────────────────┘    └─────────────────┘
         │                       │                       │
         │                       │                       │
         ▼                       ▼                       ▼
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   Workspace     │    │   SQLite DB     │    │   Obsidian      │
│   Management    │    │   (ai_code.db)  │    │   Integration   │
└─────────────────┘    └─────────────────┘    └─────────────────┘
```

### 5.3 元データベース設計
- **ユーザーテーブル**: 基本認証情報
- **ワークスペーステーブル**: 環境分離
- **ペルソナテーブル**: キャラクター設定
- **タスクテーブル**: カンバン管理
- **AIセッションテーブル**: 連携状態管理

---

## 6. 実装詳細・コード例

### 6.1 Zen MCP Server実装
```python
# 元実装の概略（詳細は削除済み）
class ZenMCPServer:
    def __init__(self):
        self.claude_code = ClaudeCodeConnector()
        self.gemini_cli = GeminiCLIConnector()
    
    def coordinate_ai_tasks(self, task):
        # AI協調ロジック
        pass
```

### 6.2 Obsidian連携
```python
# 元実装の概略（詳細は削除済み）
class ObsidianIntegration:
    def __init__(self, vault_path):
        self.vault_path = vault_path
    
    def search_knowledge(self, query):
        # ファイルベース検索
        pass
    
    def store_knowledge(self, content, tags):
        # ファイル保存
        pass
```

### 6.3 ペルソナシステム
```python
# 元実装の概略（詳細は削除済み）
class PersonaSystem:
    def __init__(self):
        self.personas = self.load_default_personas()
    
    def assign_task(self, task, persona_id):
        # タスク割り当てロジック
        pass
```

---

## 7. 移行・統合時の注意点

### 7.1 データ移行
- **SQLite → PostgreSQL**: スキーマ変換が必要
- **ファイルパス**: 絶対パス→相対パス変換
- **データ整合性**: 移行後の検証必須
- **ロールバック**: 移行失敗時の復旧手順

### 7.2 機能統合
- **Zen MCP**: 必要に応じて残存・拡張
- **Obsidian連携**: 最適化して統合
- **ペルソナシステム**: 拡張性を考慮した再設計
- **UI統合**: 既存コンポーネントの活用

### 7.3 技術的負債の解消
- **エラーハンドリング**: 包括的な実装
- **ログ管理**: 構造化ログの導入
- **テスト**: 包括的なテストスイート
- **監視**: 本格的な監視システム

---

## 8. 参考資料・関連情報

### 8.1 元プロジェクトドキュメント
- **設計書**: 基本的な設計思想
- **API仕様**: 一部実装済みAPI
- **UI設計**: カンバンボード設計
- **データベース設計**: SQLiteベース

### 8.2 技術的参考情報
- **Zen MCP**: プロトコル仕様
- **Claude Code**: API仕様
- **Gemini CLI**: 使用方法
- **Obsidian**: プラグイン開発

### 8.3 移行・統合参考
- **PostgreSQL移行**: ベストプラクティス
- **Redis統合**: セッション管理
- **FastAPI拡張**: マイクロサービス化
- **React最適化**: パフォーマンス改善

---

## 9. 今後の活用方針

### 9.1 短期（統合版開発中）
- **設計参考**: 既存機能の設計思想を参考
- **実装パターン**: 成功した実装パターンの活用
- **問題点**: 既知の問題の回避

### 9.2 中期（統合版完成後）
- **機能移植**: 有用な機能の段階的移植
- **最適化**: 既存実装の最適化
- **拡張**: 新機能への拡張

### 9.3 長期（AI秘書プロジェクト統合後）
- **レガシー化**: 完全な統合・廃止
- **アーカイブ**: 歴史的記録として保存
- **教訓**: 今後の開発への教訓として活用

---

## 10. まとめ

このアーカイブは、AI-Codeプロジェクトから統合版プラットフォームへの移行過程で除去された情報を体系的に集約したものです。

**重要なポイント**:
1. **技術的負債の可視化**: 既知の問題点を明確化
2. **設計思想の継承**: 有用な設計パターンの保存
3. **移行時の参考**: 統合プロセスでの判断根拠
4. **将来の活用**: コンポーネント流用時の参考資料

**注意事項**:
- この情報は元プロジェクトの状態を記録したものであり、現在の統合版プラットフォームの仕様とは異なります
- 将来的な活用時は、統合版プラットフォームの設計方針との整合性を確認してください
- 技術的負債の解消を優先し、段階的な統合を推奨します

---

**文書管理**: このアーカイブは、統合版プラットフォームの開発完了後も保持し、AI秘書プロジェクトへの最終統合時の参考資料として活用してください。 